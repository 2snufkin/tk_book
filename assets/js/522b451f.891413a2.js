"use strict";(self.webpackChunktkbook=self.webpackChunktkbook||[]).push([[7346],{5206:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var s=t(4848),r=t(8453);const i={},c="Unit Tests",a={id:"Best Practice/Unit Tests",title:"Unit Tests",description:"When working on the Tumorotek project, it is essential to write unit tests for your Data Access Object (DAO) classes and Services (Managers).",source:"@site/docs/Best Practice/Unit Tests.md",sourceDirName:"Best Practice",slug:"/Best Practice/Unit Tests",permalink:"/tkbook/docs/Best Practice/Unit Tests",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"GitHub Workflow",permalink:"/tkbook/docs/Best Practice/GitHub Workflow"},next:{title:"CannotCreateTransaction",permalink:"/tkbook/docs/Errors/Cannotcreatetransaction"}},o={},l=[{value:"Testing Manager Classes:",id:"testing-manager-classes",level:3},{value:"Actions to be taken:",id:"actions-to-be-taken",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"unit-tests",children:"Unit Tests"})}),"\n",(0,s.jsx)(n.p,{children:"When working on the Tumorotek project, it is essential to write unit tests for your Data Access Object (DAO) classes and Services (Managers)."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create a New Test Class:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If needed, create a new test class in the correct package."}),"\n",(0,s.jsxs)(n.li,{children:["Name the class as ",(0,s.jsx)(n.code,{children:"___DaoTest"})," and extend ",(0,s.jsx)(n.code,{children:"AbstractDaoTest"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Set Up Dependency Injection:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create a private variable for the DAO bean and its setter method for dependency injection."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Follow Testing Conventions:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tests must start with the word 'test' when working with AbstractJpaTests."}),"\n",(0,s.jsx)(n.li,{children:"Write your test cases."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Setting:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AbstractDaoTest"})," extends ",(0,s.jsx)(n.code,{children:"AbstractJpaTests"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["It uses the ",(0,s.jsx)(n.code,{children:"applicationContextDao-test-mysql.xml"}),", which includes necessary resources: ",(0,s.jsx)(n.code,{children:"spring-jpa-test-mysql.xml"})," and ",(0,s.jsx)(n.code,{children:"applicationContextDao.xml"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"testing-manager-classes",children:"Testing Manager Classes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Check Existing Test Class:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Search the specified manager test package (",(0,s.jsx)(n.code,{children:"tumorotek-core/src/test/java/fr/aphp/tumorotek/manager/test"}),") to find an existing test class for the manager. If it doesn't exist, move to step 2; else, move to step 4."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create a New Test Class:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If needed, create a new test class in the correct package."}),"\n",(0,s.jsxs)(n.li,{children:["Name the class as ",(0,s.jsx)(n.code,{children:"___ManagerTest"})," and extend ",(0,s.jsx)(n.code,{children:"AbstractManagerTest4"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Set Up Dependency Injection:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Create a private variable for the Manager bean and annotate it with ",(0,s.jsx)(n.code,{children:"@Autowired"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Annotation for Tests:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Annotate your test methods with ",(0,s.jsx)(n.code,{children:"@Test"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Setting:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AbstractManagerTest4"})," is deprecated. Refactor it to ",(0,s.jsx)(n.code,{children:"AbstractManagerTest"})," (remove the '4')."]}),"\n",(0,s.jsxs)(n.li,{children:["It uses ",(0,s.jsx)(n.code,{children:"applicationContextDaoBase-test-mysql.xml"})," and ",(0,s.jsx)(n.code,{children:"applicationContextManagerBase.xml"})," for configurations."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"actions-to-be-taken",children:"Actions to be taken:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Replace the deprecated ",(0,s.jsx)(n.code,{children:"AbstractJpaTests"})," with an alternative (mention the recommended alternative)."]}),"\n",(0,s.jsx)(n.li,{children:"Consider refactoring the current configuration to use an H2 database for testing."}),"\n",(0,s.jsxs)(n.li,{children:["Refactor ",(0,s.jsx)(n.code,{children:"AbstractManagerTest4"})," to ",(0,s.jsx)(n.code,{children:"AbstractManagerTest"})," as the '4' holds no significance."]}),"\n",(0,s.jsx)(n.li,{children:"Consider using a mocking library for more efficient and controlled testing."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>a});var s=t(6540);const r={},i=s.createContext(r);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);