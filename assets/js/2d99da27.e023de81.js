"use strict";(self.webpackChunktkbook=self.webpackChunktkbook||[]).push([[4643],{1944:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var r=t(4848),s=t(8453);const i={id:"jpql",title:"JPQL Documentation",slug:"/java/jpql"},a="JPQL",o={id:"Java & Spring/jpql",title:"JPQL Documentation",description:"Please note that these are general indicators and not definitive proof of whether HQL or JPQL is being used. To be certain, you may need to check the project's dependencies and the specific ORM configuration.",source:"@site/docs/Java & Spring/Jpql .md",sourceDirName:"Java & Spring",slug:"/java/jpql",permalink:"/tk_book/docs/java/jpql",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"jpql",title:"JPQL Documentation",slug:"/java/jpql"},sidebar:"tutorialSidebar",previous:{title:"Java Modifiers Order",permalink:"/tk_book/docs/Java & Spring/Java Modifiers Order"},next:{title:"Java Modifiers Order",permalink:"/tk_book/docs/Java & Spring/Modifier"}},c={},l=[{value:"Using JPQL",id:"using-jpql",level:2},{value:"Best Practices for Writing JPQL Queries",id:"best-practices-for-writing-jpql-queries",level:2},{value:"Example",id:"example",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"jpql",children:"JPQL"})}),"\n",(0,r.jsx)(n.p,{children:"Please note that these are general indicators and not definitive proof of whether HQL or JPQL is being used. To be certain, you may need to check the project's dependencies and the specific ORM configuration."}),"\n",(0,r.jsx)(n.h2,{id:"using-jpql",children:"Using JPQL"}),"\n",(0,r.jsx)(n.p,{children:"To use JPQL in your project, follow these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Define the JPQL Query:"})," Construct the JPQL query as a string using the JPQL syntax. You'll use Java class names and their mapped properties instead of SQL table and column names."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logging (Optional):"})," Before executing the query, you might want to log the generated JPQL query for debugging purposes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create an EntityManager:"})," Declare the entityManagerFactory and create an EntityManager instance."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create a TypedQuery:"})," Create a TypedQuery object using the ",(0,r.jsx)(n.code,{children:"createQuery()"})," method on the EntityManager, passing the JPQL query as an argument."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Set Parameters:"})," If the JPQL query includes parameters, set them using the appropriate methods (",(0,r.jsx)(n.code,{children:"setParameter()"})," or ",(0,r.jsx)(n.code,{children:"setXxx()"}),") on the TypedQuery object."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Execute the Query and Retrieve Results:"})," Execute the query using the ",(0,r.jsx)(n.code,{children:"getResultList()"})," method to fetch a list of entities that match the query's criteria."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Handle the Results:"})," Use the obtained result list as needed, such as returning the results or performing additional operations."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Close Resources:"})," Once query execution and result processing are complete, close the EntityManager to release acquired resources."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Handle Exceptions:"})," Properly handle any exceptions that may occur during the process to ensure application stability."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-for-writing-jpql-queries",children:"Best Practices for Writing JPQL Queries"}),"\n",(0,r.jsx)(n.p,{children:"Here are some best practices for writing JPQL queries:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Entity and Property Names:"})," Use Java entity class names and their property names instead of table and column names from the database. Ensure proper capitalization and spelling."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Avoid Database-specific Functions:"})," HQL aims to be database agnostic, so avoid using database-specific functions in your queries."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Parameters for Dynamic Values:"})," Use query parameters (",(0,r.jsx)(n.code,{children:":paramName"}),") for dynamic values to prevent SQL injection vulnerabilities."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Prefer Lazy Fetching:"})," Unless necessary, prefer lazy fetching for associations to avoid unnecessary data loading."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"..."}),"\n",(0,r.jsx)(n.p,{children:"By following these best practices, you can write efficient, secure, and maintainable JPQL queries for your Java applications."}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:"Assuming you have two entity classes: Employee and Department, with a one-to-many relationship. The JPQL query for performing a JOIN between these entities could look like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:'String jpqlQuery = "SELECT e FROM Employee e JOIN e.department d WHERE d.departmentName = :department";\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);