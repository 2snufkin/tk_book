<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ZK/Opening And Handling Modals" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Opening and Handling Modals | TkBook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" name="twitter:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" property="og:url" content="https://2snufkin.github.io/tk_book/docs/ZK/Opening And Handling Modals"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Opening and Handling Modals | TkBook"><meta data-rh="true" name="description" content="Opening modals, passing parameters, and receiving data back in ZK can be done efficiently in both MVC and MVVM patterns. However, MVVM provides a more modern and clean approach, especially for complex applications where separation of concerns and data binding are critical."><meta data-rh="true" property="og:description" content="Opening modals, passing parameters, and receiving data back in ZK can be done efficiently in both MVC and MVVM patterns. However, MVVM provides a more modern and clean approach, especially for complex applications where separation of concerns and data binding are critical."><link data-rh="true" rel="icon" href="/tk_book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://2snufkin.github.io/tk_book/docs/ZK/Opening And Handling Modals"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/docs/ZK/Opening And Handling Modals" hreflang="en"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/docs/ZK/Opening And Handling Modals" hreflang="x-default"><link rel="stylesheet" href="/tk_book/assets/css/styles.5aa24b33.css">
<script src="/tk_book/assets/js/runtime~main.2cf6296e.js" defer="defer"></script>
<script src="/tk_book/assets/js/main.64f85283.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tk_book/docs/"><div class="navbar__logo"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">TK Book</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tk_book/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Best Practice/Best Practices In Java Development">Best Practice</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Errors/Cannotcreatetransaction">Errors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Java &amp; Spring/Comparing Objects">Java &amp; Spring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Libraries/Apache Poi">Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Security/Sescurity Audit">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Tumorotek/Busniess Logic/User Rights">Tumorotek</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tk_book/docs/ZK/Annotations">ZK</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Annotations">Controller Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Buttons">Buttons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Communication Between Components">Communication Between Components in ZK Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Data Binding">Understanding Data Binding in MVC vs. MVVM with ZK Wire Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Debug In Zk">Debug In Zk</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Event Handling And Operations">ZK Framework: Event Handling and Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Event Handling">Event Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Generic Forward Composer">Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Grid">Grid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Listbox">ZK Framework: Listbox Component Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Mvc Vs Mvvm">MVC vs MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tk_book/docs/ZK/Opening And Handling Modals">Opening and Handling Modals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Reusable Components">Reusable Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Ui Update">UI Refresh in ZK Framework: MVC vs MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/ZUL Page Lifecycle">ZUL Page Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/ZK/Zul file">Zul File</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">ZK</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Opening and Handling Modals</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Opening and Handling Modals</h1></header>
<p>Opening modals, passing parameters, and receiving data back in ZK can be done efficiently in both MVC and MVVM patterns. However, MVVM provides a more modern and clean approach, especially for complex applications where separation of concerns and data binding are critical.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-opening-a-modal-and-passing-parameters">1. Opening a Modal and Passing parameters<a href="#1-opening-a-modal-and-passing-parameters" class="hash-link" aria-label="Direct link to 1. Opening a Modal and Passing parameters" title="Direct link to 1. Opening a Modal and Passing parameters">​</a></h2>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void openModal() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Window modalWindow = (Window) Executions.createComponents(&quot;/path/to/modal.zul&quot;, null, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    modalWindow.doModal();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="executionscreatecomponents">Executions.createComponents<a href="#executionscreatecomponents" class="hash-link" aria-label="Direct link to Executions.createComponents" title="Direct link to Executions.createComponents">​</a></h3>
<p>The <code>Executions.createComponents</code> method in the ZK Framework is a powerful tool that allows developers to dynamically create ZK components (such as windows, grids, or any other UI elements) at runtime. It is commonly used to load a ZUL  file and generate the corresponding UI components.
It provides flexibility in specifying the component&#x27;s source (ZUL file), its parent, and any arguments that might be needed to customize its behavior or appearance. This method is particularly useful for creating modals, pop-ups, or any dynamic content that is not known at compile-time.
The <code>createComponents</code> method has several overloaded versions, but the most commonly used one has the following signature:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static Component createComponents(String uri, Component parent, Map&lt;String, Object&gt; arg);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>
<p><strong><code>uri</code> (String)</strong>:  This is the URI (Uniform Resource Identifier) of the ZUL file that you want to load. The URI is typically relative to the web application&#x27;s context root. The ZUL file at this location will be parsed, and the corresponding ZK components will be created.</p>
</li>
<li>
<p><strong><code>parent</code> (Component)</strong>: This is the parent component to which the newly created components will be attached. If <code>parent</code> is <code>null</code>, the newly created components will not be attached to any parent and will need to be attached manually later. If you pass an existing <code>Window</code> or <code>Div</code> component as the parent, the components defined in the ZUL file will be added as children of that component.</p>
</li>
<li>
<p>**<code>arg(Map&lt;String, Object&gt;)</code> **: This is a map of arguments that you can pass to the components defined in the ZUL file. These arguments can be accessed within the ZUL or its corresponding controller or ViewModel. The map’s keys are <code>String</code> values that represent the names of the arguments, and the map’s values are <code>Object</code> types, which can be anything you need to pass (e.g., strings, lists, custom objects).</p>
<ul>
<li><strong>Example</strong>: <code>Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(); args.put(&quot;paramName&quot;, paramValue);</code></li>
<li>In the ZUL file&#x27;s controller or ViewModel, these arguments can be accessed to initialize the component with specific data or configurations.</li>
</ul>
</li>
</ol>
<p>There are other overloaded versions of <code>createComponents</code> that allow more flexibility:</p>
<ol>
<li>
<p><strong><code>createComponents(String uri, Component parent)</code></strong>:</p>
<ul>
<li>Creates components without passing any arguments.</li>
<li><strong>Usage Example</strong>: <code>Executions.createComponents(&quot;/path/to/file.zul&quot;, parent);</code></li>
</ul>
</li>
<li>
<p><strong><code>createComponents(String uri, Page page, Map&lt;String, Object&gt; arg)</code></strong>:</p>
<ul>
<li>Allows specifying a <code>Page</code> instead of a parent component.</li>
<li><strong>Usage Example</strong>: <code>Executions.createComponents(&quot;/path/to/file.zul&quot;, page, args);</code></li>
</ul>
</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Define the arguments to pass to the modal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">args.put(&quot;title&quot;, &quot;My Modal Title&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">args.put(&quot;itemList&quot;, Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create the components (load the ZUL file)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Window modalWindow = (Window) Executions.createComponents(&quot;/path/to/modal.zul&quot;, null, args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Display the modal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modalWindow.doModal();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example:</p>
<ul>
<li>The ZUL file at <code>&quot;/path/to/modal.zul&quot;</code> is loaded.</li>
<li>The modal window (<code>Window</code> component) is created but not attached to any parent (since <code>parent</code> is <code>null</code>).</li>
<li>The arguments <code>title</code> and <code>itemList</code> are passed to the ZUL file and can be accessed within the ZUL or its controller to initialize the UI.</li>
<li>The <code>doModal()</code> method is called to display the window as a modal dialog.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-accessing-parameters-paased-to-the-modal-window">2. Accessing Parameters paased to the Modal Window<a href="#2-accessing-parameters-paased-to-the-modal-window" class="hash-link" aria-label="Direct link to 2. Accessing Parameters paased to the Modal Window" title="Direct link to 2. Accessing Parameters paased to the Modal Window">​</a></h2>
<p>In the ZUL&#x27;s associated controller (MVC) or ViewModel (MVVM), you can access the passed arguments like this:</p>
<p><strong>In MVC:</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;String, Object&gt; args = Executions.getCurrent().getArg();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    String title = (String) args.get(&quot;title&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    List&lt;String&gt; itemList = (List&lt;String&gt;) args.get(&quot;itemList&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Use the arguments to initialize components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>In MVVM:</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ModalWindow {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String title;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String mainLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String listHeaderLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;String&gt; itemList;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String selectionLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private int maxSelections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init(@ExecutionArgParam(&quot;title&quot;) String title,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @ExecutionArgParam(&quot;mainLabel&quot;) String mainLabel,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @ExecutionArgParam(&quot;listHeaderLabel&quot;) String listHeaderLabel,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @ExecutionArgParam(&quot;itemList&quot;) List&lt;String&gt; itemList,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @ExecutionArgParam(&quot;selectionLabel&quot;) String selectionLabel,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     @ExecutionArgParam(&quot;maxSelections&quot;) int maxSelections) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.title = title;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.mainLabel = mainLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.listHeaderLabel = listHeaderLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.itemList = itemList;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.selectionLabel = selectionLabel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.maxSelections = maxSelections;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // getters are a Must!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3receiving-response-from-the-modal">3.Receiving Response from the Modal<a href="#3receiving-response-from-the-modal" class="hash-link" aria-label="Direct link to 3.Receiving Response from the Modal" title="Direct link to 3.Receiving Response from the Modal">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-parameters-in-mvc">Receiving Parameters in MVC<a href="#receiving-parameters-in-mvc" class="hash-link" aria-label="Direct link to Receiving Parameters in MVC" title="Direct link to Receiving Parameters in MVC">​</a></h3>
<p>To receive parameters from a modal in MVC, you can use events and listeners. After the modal closes, you can trigger an event to send the data back:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In the modalWindow controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///////////////////////////////////////////////////////In the modalWindow controller ////////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.Events;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.Event;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// inside the method that listen to the action button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Events.postEvent(new Event(&quot;onModalResult&quot;, null, selectedItems));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">this.detach();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">///////////////////////////////////////////////////////////In the parent controller ////////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In the parent controller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void openModal() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Window modalWindow = (Window) Executions.createComponents(&quot;/path/to/modal.zul&quot;, null, null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    modalWindow.addEventListener(&quot;onModalResult&quot;, event -&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        List&lt;String&gt; selectedItems = (List&lt;String&gt;) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Process selectedItems...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    modalWindow.doModal();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-parameters-in-mvvm">Receiving Parameters in MVVM<a href="#receiving-parameters-in-mvvm" class="hash-link" aria-label="Direct link to Receiving Parameters in MVVM" title="Direct link to Receiving Parameters in MVVM">​</a></h3>
<p>In MVVM, you typically use bindings and event listeners as well, but they are often bound directly in the ZUL file or handled within the ViewModel:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// In the modal ViewModel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">private void sendResult(List&lt;String&gt; selectedItems) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BindUtils.postGlobalCommand(null, null, &quot;onModalResult&quot;, Map.of(&quot;selectedItems&quot;, selectedItems));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// In the parent ViewModel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@GlobalCommand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NotifyChange(&quot;selectedItems&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public void onModalResult(@BindingParam(&quot;selectedItems&quot;) List&lt;String&gt; selectedItems) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Process selectedItems...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this approach, you use a global command to send the data back to the parent ViewModel.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="differences-between-mvc-and-mvvm">Differences Between MVC and MVVM<a href="#differences-between-mvc-and-mvvm" class="hash-link" aria-label="Direct link to Differences Between MVC and MVVM" title="Direct link to Differences Between MVC and MVVM">​</a></h2>
<ul>
<li><strong>Separation of Concerns</strong>: MVVM provides a better separation of concerns by keeping the ViewModel separate from the view logic, while MVC often mixes them within the controller.</li>
<li><strong>Data Binding</strong>: MVVM relies heavily on data binding, making it easier to manage UI state, whereas MVC requires more manual management of component states.</li>
<li><strong>Parameter Passing</strong>: While both patterns allow passing parameters using a <code>Map</code>, MVVM provides a cleaner way to inject these parameters into the ViewModel using annotations.</li>
<li><strong>Event Handling</strong>: MVVM uses global commands and binding for event handling, making it more declarative compared to the event listener approach in MVC.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tk_book/docs/ZK/Mvc Vs Mvvm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MVC vs MVVM</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tk_book/docs/ZK/Reusable Components"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reusable Components</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-opening-a-modal-and-passing-parameters" class="table-of-contents__link toc-highlight">1. Opening a Modal and Passing parameters</a><ul><li><a href="#executionscreatecomponents" class="table-of-contents__link toc-highlight">Executions.createComponents</a></li></ul></li><li><a href="#2-accessing-parameters-paased-to-the-modal-window" class="table-of-contents__link toc-highlight">2. Accessing Parameters paased to the Modal Window</a></li><li><a href="#3receiving-response-from-the-modal" class="table-of-contents__link toc-highlight">3.Receiving Response from the Modal</a><ul><li><a href="#receiving-parameters-in-mvc" class="table-of-contents__link toc-highlight">Receiving Parameters in MVC</a></li><li><a href="#receiving-parameters-in-mvvm" class="table-of-contents__link toc-highlight">Receiving Parameters in MVVM</a></li></ul></li><li><a href="#differences-between-mvc-and-mvvm" class="table-of-contents__link toc-highlight">Differences Between MVC and MVVM</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>