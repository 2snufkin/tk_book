<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Libraries/Liquibase" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Liquibase | TkBook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" name="twitter:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" property="og:url" content="https://2snufkin.github.io/tk_book/docs/Libraries/Liquibase"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Liquibase | TkBook"><meta data-rh="true" name="description" content="Liquibase is an open-source database-independent library for tracking, managing, and applying database schema changes. It allows you to version control your database schema, making it easier to deploy."><meta data-rh="true" property="og:description" content="Liquibase is an open-source database-independent library for tracking, managing, and applying database schema changes. It allows you to version control your database schema, making it easier to deploy."><link data-rh="true" rel="icon" href="/tk_book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://2snufkin.github.io/tk_book/docs/Libraries/Liquibase"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/docs/Libraries/Liquibase" hreflang="en"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/docs/Libraries/Liquibase" hreflang="x-default"><link rel="stylesheet" href="/tk_book/assets/css/styles.5aa24b33.css">
<script src="/tk_book/assets/js/runtime~main.31d238ba.js" defer="defer"></script>
<script src="/tk_book/assets/js/main.64f85283.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tk_book/docs/"><div class="navbar__logo"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">TK Book</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tk_book/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Best Practice/Best Practices In Java Development">Best Practice</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Errors/Cannotcreatetransaction">Errors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Java &amp; Spring/Comparing Objects">Java &amp; Spring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tk_book/docs/Libraries/Apache Poi">Libraries</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/docs/Libraries/Apache Poi">Apache Poi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tk_book/docs/Libraries/Liquibase">Liquibase</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Security/Sescurity Audit">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/Tumorotek/Busniess Logic/User Rights">Tumorotek</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/docs/ZK/Annotations">ZK</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Libraries</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Liquibase</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Liquibase</h1></header>
<p>Liquibase is an open-source database-independent library for tracking, managing, and applying database schema changes. It allows you to version control your database schema, making it easier to deploy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>Liquibase is an open-source database schema change management tool that helps manage and track database changes in a consistent and controlled manner. It provides a way to define, manage, and apply changes to a database schema, ensuring that the schema remains synchronized across different environments and teams.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="problems-liquibase-solves">Problems Liquibase Solves<a href="#problems-liquibase-solves" class="hash-link" aria-label="Direct link to Problems Liquibase Solves" title="Direct link to Problems Liquibase Solves">​</a></h2>
<ul>
<li><strong>Schema Version Control:</strong> Liquibase allows versioning of database schemas, ensuring that changes are tracked and can be rolled back if necessary. This is especially important in environments where multiple developers or teams are working on the same database.</li>
<li><strong>Automated Database Updates:</strong> It automates the process of applying changes to the database, reducing the risk of human error and ensuring that all changes are applied in the correct order.</li>
<li><strong>Environment Consistency:</strong> By using Liquibase, you can ensure that the database schema remains consistent across different environments (development, testing, production), reducing issues that arise from schema differences.</li>
<li><strong>Rollback Capability:</strong> Liquibase supports rolling back changes, allowing you to revert to a previous state if something goes wrong.</li>
<li><strong>Auditing and Compliance:</strong> It provides a detailed history of changes made to the database, which is useful for auditing and compliance purposes.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-liquibase-works">How Liquibase Works<a href="#how-liquibase-works" class="hash-link" aria-label="Direct link to How Liquibase Works" title="Direct link to How Liquibase Works">​</a></h2>
<p>Liquibase operates using a concept called a &quot;changelog,&quot; which is a file or a set of files that define the changes to be made to the database schema. These files are written in XML, YAML, JSON, or SQL. The main components of Liquibase are:</p>
<ul>
<li><strong>Changelog Files:</strong> These files contain the instructions for modifying the database schema. Each change is defined as a &quot;changeSet,&quot; which is a unit of change that includes a unique identifier, author, and the actual change to be applied.</li>
<li><strong>DatabaseChangeLog Table:</strong> Liquibase creates and maintains a special table in the database called DATABASECHANGELOG to keep track of which changes have been applied. This table records the unique ID, author, and filename of each changeSet that has been executed.</li>
<li><strong>DatabaseChangeLogLock Table:</strong> This table (DATABASECHANGELOGLOCK) is used to ensure that only one instance of Liquibase is modifying the database at a time, preventing conflicts and ensuring consistency.</li>
</ul>
<p>When Liquibase runs, it performs the following steps:</p>
<ol>
<li>Checks the Lock: It checks the DATABASECHANGELOGLOCK table to ensure no other process is running.</li>
<li>Reads the Changelog: It reads the changelog file(s) to determine what changes need to be applied.</li>
<li>Applies Changes: It applies the necessary changes to the database.</li>
<li>Records Changes: It records each applied changeSet in the DATABASECHANGELOG table.</li>
<li>Releases Lock: It releases the lock in the DATABASECHANGELOGLOCK table.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tables-created-for-changelog">Tables Created for Changelog<a href="#tables-created-for-changelog" class="hash-link" aria-label="Direct link to Tables Created for Changelog" title="Direct link to Tables Created for Changelog">​</a></h2>
<p>Liquibase creates two tables in the database:</p>
<ol>
<li><code>DATABASECHANGELOG</code>: Records each changeSet applied including metadata fields like unique ID, author, filename executed date etc.</li>
<li><code>DATABASECHANGELOGLOCK</code>: Manages access preventing simultaneous modifications by multiple instances.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-a-changelog-twice">Running a Changelog Twice<a href="#running-a-changelog-twice" class="hash-link" aria-label="Direct link to Running a Changelog Twice" title="Direct link to Running a Changelog Twice">​</a></h2>
<p>By design Liquibase avoids reapplying changeSets but when needed (e.g., development environment) there are ways around this issue:</p>
<ul>
<li>Using contexts</li>
<li>Using labels</li>
<li>Using preconditions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-liquibase">Configuring Liquibase<a href="#configuring-liquibase" class="hash-link" aria-label="Direct link to Configuring Liquibase" title="Direct link to Configuring Liquibase">​</a></h2>
<p>To work with Liquibase and run Liquibase commands, you need to edit the <code>tumorotek-webapp/src/main/resources/liquibase/liquibase.properties</code> file. Update the following properties:</p>
<ul>
<li><code>url</code>: the URL for tk database</li>
<li><code>username</code>: MySQL username</li>
<li><code>password</code>: MySQL password</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resolving-commend-error">Resolving Commend Error<a href="#resolving-commend-error" class="hash-link" aria-label="Direct link to Resolving Commend Error" title="Direct link to Resolving Commend Error">​</a></h2>
<p>If you encounter an error while running the update command like &quot;Could not acquire change log lock. Currently locked by xxx since yyy,&quot; follow these steps:</p>
<ol>
<li>Run this query to see the problem:<!-- -->
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> DATABASECHANGELOGLOCK </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> ID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Release the lock by running:<!-- -->
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">UPDATE</span><span class="token plain"> DATABASECHANGELOGLOCK </span><span class="token keyword" style="color:#00009f">SET</span><span class="token plain"> LOCKED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LOCKGRANTED </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> LOCKEDBY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">NULL</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> ID </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-liquibase-works-1">How Liquibase Works<a href="#how-liquibase-works-1" class="hash-link" aria-label="Direct link to How Liquibase Works" title="Direct link to How Liquibase Works">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="changelog-file">Changelog File<a href="#changelog-file" class="hash-link" aria-label="Direct link to Changelog File" title="Direct link to Changelog File">​</a></h3>
<p>Liquibase uses a changelog file (usually in XML, YAML, or SQL format) to define database changes.
The changelog file contains a set of changesets, each representing a specific database change.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="changesets">Changesets<a href="#changesets" class="hash-link" aria-label="Direct link to Changesets" title="Direct link to Changesets">​</a></h3>
<p>Changesets are units of change within the changelog file.
Each changeset describes a specific database change using a set of commands.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="commands">Commands<a href="#commands" class="hash-link" aria-label="Direct link to Commands" title="Direct link to Commands">​</a></h3>
<p>Liquibase commands define specific database operations such as creating a table, adding a column, or inserting data.
Common commands include <code>&lt;createTable&gt;</code>, <code>&lt;addColumn&gt;</code>, <code>&lt;modifyColumn&gt;</code>, <code>&lt;sql&gt;</code>, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-connection">Database Connection<a href="#database-connection" class="hash-link" aria-label="Direct link to Database Connection" title="Direct link to Database Connection">​</a></h3>
<p>Liquibase requires information about the database connection to apply changes.
Connection details (URL, username, password) are usually specified in a properties file or directly in the changelog file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution">Execution<a href="#execution" class="hash-link" aria-label="Direct link to Execution" title="Direct link to Execution">​</a></h3>
<p>Liquibase can be executed from the command line, integrated into build tools (Maven, Gradle), or used programmatically.
When Liquibase runs, it checks the database for its change history and applies pending changes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-liquibase-configuration">Setting up Liquibase Configuration<a href="#setting-up-liquibase-configuration" class="hash-link" aria-label="Direct link to Setting up Liquibase Configuration" title="Direct link to Setting up Liquibase Configuration">​</a></h2>
<ol>
<li><strong>Install Liquibase</strong>: Download it from the official website or use Maven or Gradle dependency management.</li>
<li><strong>Database Configuration</strong>: Configure your database connection details in either a properties file or directly in the changelog file.</li>
<li><strong>Changelog File</strong>: Create a changelog file to define your database changes.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="defining-datasource-in-liquibase">Defining Datasource in Liquibase<a href="#defining-datasource-in-liquibase" class="hash-link" aria-label="Direct link to Defining Datasource in Liquibase" title="Direct link to Defining Datasource in Liquibase">​</a></h2>
<p>You can define the database connection information using either a properties file or directly in the changelog file:</p>
<ol>
<li><strong>Using Properties File</strong>:<!-- -->
<ul>
<li>Create a <code>liquibase.properties</code> file with your connection details.</li>
</ul>
<div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">url=jdbc:mysql://localhost:3306/dev_tumo?useSSL=false&amp;createDatabaseIfNotExist=true&amp;characterEncoding=UTF-8&amp;rewriteBatchedStatements=true&amp;serverTimezone=Europe/Paris</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">username=your_username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password=your_password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li><strong>Directly in Changelog File</strong>:<!-- -->
<ul>
<li>Define connection details within the changelog XML using attributes like <code>url</code>, <code>username</code>, and <code>password</code>.</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-liquibase-in-tk-project">Using Liquibase in TK Project<a href="#using-liquibase-in-tk-project" class="hash-link" aria-label="Direct link to Using Liquibase in TK Project" title="Direct link to Using Liquibase in TK Project">​</a></h2>
<p>In TK project&#x27;s pom.xml files:</p>
<ul>
<li><strong>tumorotek-webapp</strong> plugin configuration sets up Liquibase execution during Maven build process.</li>
<li><strong>tumorotek-model</strong> ignores certain goals of Liquibasen based on version range.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="force-rerun-of-changeset">Force Rerun of Changeset<a href="#force-rerun-of-changeset" class="hash-link" aria-label="Direct link to Force Rerun of Changeset" title="Direct link to Force Rerun of Changeset">​</a></h2>
<p>If you need to force rerun of specific changeset due to configurations:</p>
<ol>
<li>Identify Changeset: Find ID and AUTHOR of desired changeset.</li>
<li>Delete from DATABASECHANGELOG: Remove corresponding record using SQL DELETE statement.</li>
<li>Run Liquibse: After deletion, run Liquibse again for reapplication of changeset during Maven build process.</li>
</ol>
<p>This is an overview; adjust processes based on your requirements and databases supported by Liquibae features like rollbacks and preconditions for effective management of database schema changes.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tk_book/docs/Libraries/Apache Poi"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Apache Poi</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tk_book/docs/Security/Sescurity Audit"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Security Audit</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#problems-liquibase-solves" class="table-of-contents__link toc-highlight">Problems Liquibase Solves</a></li><li><a href="#how-liquibase-works" class="table-of-contents__link toc-highlight">How Liquibase Works</a></li><li><a href="#tables-created-for-changelog" class="table-of-contents__link toc-highlight">Tables Created for Changelog</a></li><li><a href="#running-a-changelog-twice" class="table-of-contents__link toc-highlight">Running a Changelog Twice</a></li><li><a href="#configuring-liquibase" class="table-of-contents__link toc-highlight">Configuring Liquibase</a></li><li><a href="#resolving-commend-error" class="table-of-contents__link toc-highlight">Resolving Commend Error</a></li><li><a href="#how-liquibase-works-1" class="table-of-contents__link toc-highlight">How Liquibase Works</a><ul><li><a href="#changelog-file" class="table-of-contents__link toc-highlight">Changelog File</a></li><li><a href="#changesets" class="table-of-contents__link toc-highlight">Changesets</a></li><li><a href="#commands" class="table-of-contents__link toc-highlight">Commands</a></li><li><a href="#database-connection" class="table-of-contents__link toc-highlight">Database Connection</a></li><li><a href="#execution" class="table-of-contents__link toc-highlight">Execution</a></li></ul></li><li><a href="#setting-up-liquibase-configuration" class="table-of-contents__link toc-highlight">Setting up Liquibase Configuration</a></li><li><a href="#defining-datasource-in-liquibase" class="table-of-contents__link toc-highlight">Defining Datasource in Liquibase</a></li><li><a href="#using-liquibase-in-tk-project" class="table-of-contents__link toc-highlight">Using Liquibase in TK Project</a></li><li><a href="#force-rerun-of-changeset" class="table-of-contents__link toc-highlight">Force Rerun of Changeset</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>