<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-ZK/Communication Between Components" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.0">
<title data-rh="true">Communication Between Components in ZK Framework | TkBook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" name="twitter:image" content="https://2snufkin.github.io/tk_book/img/favicon.png"><meta data-rh="true" property="og:url" content="https://2snufkin.github.io/tk_book/ZK/Communication Between Components/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Communication Between Components in ZK Framework | TkBook"><meta data-rh="true" name="description" content="// to do: edit it"><meta data-rh="true" property="og:description" content="// to do: edit it"><link data-rh="true" rel="icon" href="/tk_book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://2snufkin.github.io/tk_book/ZK/Communication Between Components/"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/ZK/Communication Between Components/" hreflang="en"><link data-rh="true" rel="alternate" href="https://2snufkin.github.io/tk_book/ZK/Communication Between Components/" hreflang="x-default"><link rel="stylesheet" href="/tk_book/assets/css/styles.9d961582.css">
<script src="/tk_book/assets/js/runtime~main.26463960.js" defer="defer"></script>
<script src="/tk_book/assets/js/main.c14a53fe.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tk_book/"><div class="navbar__logo"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/tk_book/img/favicon.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">TK Book</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Best Practice/Best Practices In Java Development/">Best Practice</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Errors/Accessing Inaccessible Attribute/">Errors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Java &amp; Spring/Comparing Objects/">Java &amp; Spring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Libraries/Apache Poi - Performance/">Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Security/Dependencies/">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tk_book/Tumorotek/General/Code Formatting/">Tumorotek</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/tk_book/ZK/Annotations/">ZK</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Annotations/">Controller Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Buttons/">Buttons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tk_book/ZK/Communication Between Components/">Communication Between Components in ZK Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Data Binding/">Understanding Data Binding in MVC vs. MVVM with ZK Wire Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Event Handling And Operations/">ZK Framework: Event Handling and Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Event Handling/">Event Handling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Generic Forward Composer/">Annotations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Grid/">Grid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Listbox/">ZK Framework: Listbox Component Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Mvc Vs Mvvm/">MVC vs MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Navigation Guide/">ZK Framework Navigation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Opening And Handling Modals/">Opening and Handling Modals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Reusable Components/">Reusable Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Ui Update/">UI Refresh in ZK Framework: MVC vs MVVM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/ZUL Page Lifecycle/">ZUL Page Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tk_book/ZK/Zul file/">Zul File</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tk_book/">Introduction</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tk_book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ZK</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Communication Between Components in ZK Framework</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Communication Between Components in ZK Framework</h1></header>
<p>// to do: edit it
see my forum question
<a href="https://forum.zkoss.org/question/115304/communication-between-viewmodel-and-composer/" target="_blank" rel="noopener noreferrer">https://forum.zkoss.org/question/115304/communication-between-viewmodel-and-composer/</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="communication-via-global-command">Communication via Global Command<a href="#communication-via-global-command" class="hash-link" aria-label="Direct link to Communication via Global Command" title="Direct link to Communication via Global Command">​</a></h2>
<p>Sometimes, components need to communicate across different views or windows. This can be done using global commands.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example:<a href="#example" class="hash-link" aria-label="Direct link to Example:" title="Direct link to Example:">​</a></h3>
<p>Assume you have a list of items in one window and want to display the selected item details in another window.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-define-the-components-and-command">Step 1: Define the Components and Command<a href="#step-1-define-the-components-and-command" class="hash-link" aria-label="Direct link to Step 1: Define the Components and Command" title="Direct link to Step 1: Define the Components and Command">​</a></h4>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Item List Window --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">window</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">viewModel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">@id(&#x27;vm&#x27;) @init(&#x27;com.example.ItemListViewModel&#x27;)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">listbox</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">model</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">@load(vm.items)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onSelect</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">@command(&#x27;itemSelected&#x27;)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">window</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Item Detail Window --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">window</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">viewModel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">@id(&#x27;vm&#x27;) @init(&#x27;com.example.ItemDetailViewModel&#x27;)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">label</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">value</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">@load(vm.selectedItemDetails)</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">window</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-create-the-viewmodels">Step 2: Create the ViewModels<a href="#step-2-create-the-viewmodels" class="hash-link" aria-label="Direct link to Step 2: Create the ViewModels" title="Direct link to Step 2: Create the ViewModels">​</a></h4>
<p><strong>ItemListViewModel.java</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ItemListViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private List&lt;String&gt; items = Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public List&lt;String&gt; getItems() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return items;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GlobalCommand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotifyChange(&quot;selectedItemDetails&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void itemSelected(@BindingParam(&quot;selected&quot;) String selectedItem) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        args.put(&quot;selected&quot;, selectedItem);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BindUtils.postGlobalCommand(null, null, &quot;updateDetails&quot;, args);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>ItemDetailViewModel.java</strong></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class ItemDetailViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String selectedItemDetails;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GlobalCommand(&quot;updateDetails&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotifyChange(&quot;selectedItemDetails&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void updateDetails(@BindingParam(&quot;selected&quot;) String selectedItem) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.selectedItemDetails = &quot;Details for &quot; + selectedItem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getSelectedItemDetails() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return selectedItemDetails;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation">Explanation:<a href="#explanation" class="hash-link" aria-label="Direct link to Explanation:" title="Direct link to Explanation:">​</a></h3>
<ul>
<li><strong>@GlobalCommand</strong>: Defines a command that can be called from any view.</li>
<li><strong>@BindingParam</strong>: Passes parameters to the command.</li>
<li><strong>BindUtils.postGlobalCommand</strong>: Triggers a global command, allowing communication across different ViewModels.</li>
</ul>
<h1>Communication and Data Passing in ZK Framework: MVC and MVVM Approaches</h1>
<ol start="2">
<li>
<p><strong>Using the Execution Context</strong>: ZK&#x27;s <code>Execution</code> class allows controllers to share data via attributes.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onClick$button(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Hello from FirstController!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Executions.getCurrent().setAttribute(&quot;sharedData&quot;, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = (String) Executions.getCurrent().getAttribute(&quot;sharedData&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Event-Based Communication</strong>: ZK allows you to use custom events to pass data between controllers.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onClick$button(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Hello from FirstController!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Events.postEvent(&quot;onDataPass&quot;, secondController.getSelf(), data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onDataPass(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-communication-and-data-passing-in-zk-mvvm">3. Communication and Data Passing in ZK MVVM<a href="#3-communication-and-data-passing-in-zk-mvvm" class="hash-link" aria-label="Direct link to 3. Communication and Data Passing in ZK MVVM" title="Direct link to 3. Communication and Data Passing in ZK MVVM">​</a></h3>
<p>In the MVVM pattern, communication and data passing are primarily handled via data binding and command binding. The ViewModel is the central component that connects the view and the model.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="31-passing-data-between-viewmodels-mvvm---mvvm">3.1. <strong>Passing Data Between ViewModels: MVVM -&gt; MVVM</strong><a href="#31-passing-data-between-viewmodels-mvvm---mvvm" class="hash-link" aria-label="Direct link to 31-passing-data-between-viewmodels-mvvm---mvvm" title="Direct link to 31-passing-data-between-viewmodels-mvvm---mvvm">​</a></h4>
<p>In ZK MVVM, ViewModels do not directly interact with each other. Instead, they communicate through shared services, events, or via the execution context.</p>
<ol>
<li>
<p><strong>Shared Services</strong>: You can create a shared service class that multiple ViewModels can use to pass data.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class SharedService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String sharedData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public String getSharedData() { return sharedData; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void setSharedData(String data) { this.sharedData = data; }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private SharedService sharedService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void someMethod() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sharedService.setSharedData(&quot;Hello from FirstViewModel&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private SharedService sharedService;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void someMethod() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = sharedService.getSharedData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Event-Based Communication</strong>: ZK MVVM supports the use of events to pass data between ViewModels.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void sendData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BindUtils.postGlobalCommand(null, null, &quot;receiveData&quot;, Collections.singletonMap(&quot;data&quot;, &quot;Hello from FirstViewModel&quot;));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GlobalCommand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotifyChange(&quot;data&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void receiveData(@BindingParam(&quot;data&quot;) String data) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.data = data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Execution Context</strong>: Similar to MVC, the <code>Execution</code> context can be used to share data between ViewModels.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void sendData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Executions.getCurrent().setAttribute(&quot;sharedData&quot;, &quot;Hello from FirstViewModel&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = (String) Executions.getCurrent().getAttribute(&quot;sharedData&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h1>Communication Using Event Posting in ZK Framework</h1>
<p>Event posting is a powerful feature in the ZK framework that facilitates communication between components, controllers, and view models. In your current application, where event posting is utilized, it&#x27;s essential to understand how this mechanism works in both MVC and MVVM contexts. This section will focus on how to effectively use event posting to pass data and communicate between different components.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-event-posting-in-zk-mvc">1. Event Posting in ZK MVC<a href="#1-event-posting-in-zk-mvc" class="hash-link" aria-label="Direct link to 1. Event Posting in ZK MVC" title="Direct link to 1. Event Posting in ZK MVC">​</a></h3>
<p>In the MVC pattern, controllers manage the communication between the view and model. Event posting allows one controller to send events (including data) to another controller or component. Here’s how you can implement this:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-posting-events-between-controllers">1.1. <strong>Posting Events Between Controllers</strong><a href="#11-posting-events-between-controllers" class="hash-link" aria-label="Direct link to 11-posting-events-between-controllers" title="Direct link to 11-posting-events-between-controllers">​</a></h4>
<p>Controllers in ZK can use <code>Events.postEvent()</code> to send custom events to other components, which can be another controller or any UI component. The receiving component listens for these events and processes the data.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// FirstController.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Component anotherComponent; // Reference to the other component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onClick$sendButton(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Data from FirstController&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Post an event to another component</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Events.postEvent(new Event(&quot;onCustomEvent&quot;, anotherComponent, data));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// SecondController.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add an event listener for &quot;onCustomEvent&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        comp.addEventListener(&quot;onCustomEvent&quot;, new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(Event event) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Process the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;Received data: &quot; + receivedData);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example:</p>
<ul>
<li>The <code>FirstController</code> posts an event named <code>&quot;onCustomEvent&quot;</code> to <code>anotherComponent</code>.</li>
<li>The <code>SecondController</code> listens for this event and retrieves the data via <code>event.getData()</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-using-global-events">1.2. <strong>Using Global Events</strong><a href="#12-using-global-events" class="hash-link" aria-label="Direct link to 12-using-global-events" title="Direct link to 12-using-global-events">​</a></h4>
<p>ZK also supports global events, which are events broadcast to all interested listeners regardless of component hierarchy. This is useful when controllers or components are not directly related in the component tree.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// FirstController.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onClick$sendButton(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Data from FirstController&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Post a global event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Events.postEvent(&quot;onGlobalCustomEvent&quot;, null, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// SecondController.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Listen for the global event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueue&lt;Event&gt; eq = EventQueues.lookup(&quot;globalQueue&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eq.subscribe(new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Handle the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here:</p>
<ul>
<li><code>Events.postEvent(&quot;onGlobalCustomEvent&quot;, null, data);</code> posts a global event.</li>
<li>The <code>SecondController</code> subscribes to the global event queue and processes the received data.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-event-posting-in-zk-mvvm">2. Event Posting in ZK MVVM<a href="#2-event-posting-in-zk-mvvm" class="hash-link" aria-label="Direct link to 2. Event Posting in ZK MVVM" title="Direct link to 2. Event Posting in ZK MVVM">​</a></h3>
<p>In the MVVM pattern, event posting is used similarly to MVC, but the communication happens between the ViewModel and the UI, or between different ViewModels.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="21-posting-events-between-viewmodels">2.1. <strong>Posting Events Between ViewModels</strong><a href="#21-posting-events-between-viewmodels" class="hash-link" aria-label="Direct link to 21-posting-events-between-viewmodels" title="Direct link to 21-posting-events-between-viewmodels">​</a></h4>
<p>ZK MVVM allows posting events using <code>BindUtils.postGlobalCommand()</code> or <code>BindUtils.postNotifyChange()</code>. This enables communication between different ViewModels.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// FirstViewModel.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void sendData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Data from FirstViewModel&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Post a global command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        BindUtils.postGlobalCommand(null, null, &quot;receiveData&quot;, Collections.singletonMap(&quot;data&quot;, data));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// SecondViewModel.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GlobalCommand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NotifyChange(&quot;data&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void receiveData(@BindingParam(&quot;data&quot;) String receivedData) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.data = receivedData;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>FirstViewModel</code> posts a global command <code>&quot;receiveData&quot;</code> with associated data.</li>
<li><code>SecondViewModel</code> listens for this command using the <code>@GlobalCommand</code> annotation and updates its state.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="22-using-eventqueues-for-asynchronous-communication">2.2. <strong>Using EventQueues for Asynchronous Communication</strong><a href="#22-using-eventqueues-for-asynchronous-communication" class="hash-link" aria-label="Direct link to 22-using-eventqueues-for-asynchronous-communication" title="Direct link to 22-using-eventqueues-for-asynchronous-communication">​</a></h4>
<p>EventQueues provide a way to handle events asynchronously in MVVM, similar to the global events in MVC but with better control over the event flow.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// FirstViewModel.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void sendData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Data from FirstViewModel&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Post an event to the queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(&quot;customQueue&quot;, EventQueues.DESKTOP, true).publish(new Event(&quot;onCustomEvent&quot;, null, data));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// SecondViewModel.java</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void init() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Subscribe to the event queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(&quot;customQueue&quot;, EventQueues.DESKTOP, true).subscribe(new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Handle the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>FirstViewModel</code> posts an event to a named event queue <code>&quot;customQueue&quot;</code>.</li>
<li><code>SecondViewModel</code> subscribes to this queue and processes events asynchronously.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="eventqueues-vs-global-events-in-zk-framework">EventQueues vs. Global Events in ZK Framework<a href="#eventqueues-vs-global-events-in-zk-framework" class="hash-link" aria-label="Direct link to EventQueues vs. Global Events in ZK Framework" title="Direct link to EventQueues vs. Global Events in ZK Framework">​</a></h3>
<p>In the ZK framework, both <strong>EventQueues</strong> and <strong>Global Events</strong> provide mechanisms for communicating between different components or controllers, but they serve slightly different purposes and offer distinct advantages depending on the use case. Below is a comparison of the two approaches to help you understand when to use each.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-global-events">1. Global Events<a href="#1-global-events" class="hash-link" aria-label="Direct link to 1. Global Events" title="Direct link to 1. Global Events">​</a></h3>
<p><strong>Global Events</strong> in ZK are used to broadcast events across the entire application, regardless of the component hierarchy. This allows different parts of the application to listen for and respond to events, even if they are not directly related in the component tree.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-how-global-events-work">1.1. <strong>How Global Events Work</strong><a href="#11-how-global-events-work" class="hash-link" aria-label="Direct link to 11-how-global-events-work" title="Direct link to 11-how-global-events-work">​</a></h4>
<p>Global events are posted using the <code>Events.postEvent()</code> method, where the event is typically associated with a component, but can also be broadcast globally without a specific target component.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Posting a global event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Events.postEvent(&quot;onGlobalCustomEvent&quot;, null, data);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Components or controllers that want to listen for these events subscribe to them by overriding event handlers or using annotations.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Listen for the global event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(&quot;myGlobalEventQueue&quot;, EventQueues.APPLICATION, true).subscribe(new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Handle the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-use-cases-for-global-events">1.2. <strong>Use Cases for Global Events</strong><a href="#12-use-cases-for-global-events" class="hash-link" aria-label="Direct link to 12-use-cases-for-global-events" title="Direct link to 12-use-cases-for-global-events">​</a></h4>
<ul>
<li><strong>Broadcasting Information Across the Application</strong>: When you need to broadcast a message or data across different parts of your application, global events are a straightforward choice.</li>
<li><strong>Simple Communication</strong>: If your communication needs are relatively simple, global events provide an easy-to-implement solution.</li>
<li><strong>Component-agnostic Communication</strong>: Use global events when the listener does not need to be tied to a specific component.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="13-limitations-of-global-events">1.3. <strong>Limitations of Global Events</strong><a href="#13-limitations-of-global-events" class="hash-link" aria-label="Direct link to 13-limitations-of-global-events" title="Direct link to 13-limitations-of-global-events">​</a></h4>
<ul>
<li><strong>No Asynchronous Processing</strong>: Global events are handled synchronously, meaning they are processed immediately when fired, which could block the UI if the event handler contains heavy processing logic.</li>
<li><strong>Potential for Tight Coupling</strong>: Overusing global events can lead to tightly coupled components, making the application harder to maintain.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-eventqueues">2. EventQueues<a href="#2-eventqueues" class="hash-link" aria-label="Direct link to 2. EventQueues" title="Direct link to 2. EventQueues">​</a></h3>
<p><strong>EventQueues</strong> in ZK provide a more advanced and flexible way to manage events. They allow events to be queued and processed asynchronously, which is particularly useful in complex applications where you need more control over event flow and processing.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="21-how-eventqueues-work">2.1. <strong>How EventQueues Work</strong><a href="#21-how-eventqueues-work" class="hash-link" aria-label="Direct link to 21-how-eventqueues-work" title="Direct link to 21-how-eventqueues-work">​</a></h4>
<p>EventQueues allow you to create named queues where events can be published and subscribed to. These queues can operate in different scopes, such as desktop, session, or application, and they support asynchronous event processing.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Publishing an event to an EventQueue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EventQueues.lookup(&quot;myQueue&quot;, EventQueues.DESKTOP, true).publish(new Event(&quot;onCustomEvent&quot;, null, data));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Listeners can subscribe to these queues to receive events asynchronously:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EventQueues.lookup(&quot;myQueue&quot;, EventQueues.DESKTOP, true).subscribe(new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onEvent(Event event) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Handle the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="22-use-cases-for-eventqueues">2.2. <strong>Use Cases for EventQueues</strong><a href="#22-use-cases-for-eventqueues" class="hash-link" aria-label="Direct link to 22-use-cases-for-eventqueues" title="Direct link to 22-use-cases-for-eventqueues">​</a></h4>
<ul>
<li><strong>Asynchronous Processing</strong>: If you need to process events without blocking the UI thread, EventQueues provide a way to handle events asynchronously.</li>
<li><strong>Complex Communication Scenarios</strong>: When you have more complex event-driven communication requirements, such as handling events across different scopes (e.g., between different desktops or sessions), EventQueues are a better fit.</li>
<li><strong>Decoupling Components</strong>: EventQueues can help decouple components by allowing them to communicate through a loosely coupled event-driven mechanism.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="23-advantages-of-eventqueues">2.3. <strong>Advantages of EventQueues</strong><a href="#23-advantages-of-eventqueues" class="hash-link" aria-label="Direct link to 23-advantages-of-eventqueues" title="Direct link to 23-advantages-of-eventqueues">​</a></h4>
<ul>
<li><strong>Asynchronous Handling</strong>: Events can be queued and processed in the background, improving application responsiveness.</li>
<li><strong>Flexible Scoping</strong>: EventQueues can operate in various scopes (desktop, session, application), giving you more control over where and how events are handled.</li>
<li><strong>Event Throttling</strong>: EventQueues support features like event throttling, which can help manage the rate at which events are processed.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-key-differences">3. Key Differences<a href="#3-key-differences" class="hash-link" aria-label="Direct link to 3. Key Differences" title="Direct link to 3. Key Differences">​</a></h3>
<table><thead><tr><th><strong>Feature</strong></th><th><strong>Global Events</strong></th><th><strong>EventQueues</strong></th></tr></thead><tbody><tr><td><strong>Processing Mode</strong></td><td>Synchronous</td><td>Asynchronous or Synchronous (based on configuration)</td></tr><tr><td><strong>Scope</strong></td><td>Application-wide (can be broadcast globally)</td><td>Desktop, session, or application-wide (based on queue type)</td></tr><tr><td><strong>Coupling</strong></td><td>Potential for tighter coupling due to direct event handling</td><td>Promotes loose coupling by decoupling event publishing and handling</td></tr><tr><td><strong>Complexity</strong></td><td>Simple to implement for straightforward communication</td><td>More complex, suitable for advanced scenarios</td></tr><tr><td><strong>Use Cases</strong></td><td>Simple, synchronous communication</td><td>Complex, asynchronous, or cross-scope communication</td></tr><tr><td><strong>Throttling</strong></td><td>Not supported</td><td>Supported (via queue configuration)</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-summary">4. Summary<a href="#4-summary" class="hash-link" aria-label="Direct link to 4. Summary" title="Direct link to 4. Summary">​</a></h3>
<ul>
<li><strong>Use Global Events</strong> when you need simple, synchronous communication across different parts of your application. They are easy to implement and sufficient for many straightforward use cases.</li>
<li><strong>Use EventQueues</strong> when you require asynchronous event handling, need to manage events across different scopes, or want to decouple components to reduce tight coupling. EventQueues are more powerful and flexible, making them ideal for complex applications with sophisticated event-driven requirements.</li>
</ul>
<p>Choosing between Global Events and EventQueues depends on the specific needs of your application, including the complexity of the communication patterns and the need for asynchronous processing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="communicating-across-different-views-or-windows-in-zk">Communicating Across Different Views or Windows in ZK<a href="#communicating-across-different-views-or-windows-in-zk" class="hash-link" aria-label="Direct link to Communicating Across Different Views or Windows in ZK" title="Direct link to Communicating Across Different Views or Windows in ZK">​</a></h3>
<p><strong>Introduction:</strong></p>
<p>ZK (ZKoss) is a popular Java-based framework that allows developers to build rich web applications without the need for extensive JavaScript coding. It supports both the MVC (Model-View-Controller) and MVVM (Model-View-ViewModel) design patterns, offering flexibility in how developers structure their applications. One common requirement in web applications is the need to communicate across different views or windows. This document explains the methods and best practices for achieving inter-window or inter-view communication in ZK, and examines the differences depending on whether the MVVM or MVC pattern is used.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-communication-across-views-or-windows-in-zk">1. <strong>Communication Across Views or Windows in ZK</strong><a href="#1-communication-across-views-or-windows-in-zk" class="hash-link" aria-label="Direct link to 1-communication-across-views-or-windows-in-zk" title="Direct link to 1-communication-across-views-or-windows-in-zk">​</a></h3>
<p>In ZK, views or windows are typically represented as components (like <code>Window</code>, <code>Div</code>, <code>Include</code>, etc.). Communication between them can be essential for creating interactive and dynamic user interfaces. The communication can occur in different ways, depending on whether the views are part of the same page or different pages, whether they are loaded in the same browser window, different tabs, or as modal/popup windows.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="11-same-page-communication">1.1 <strong>Same Page Communication</strong><a href="#11-same-page-communication" class="hash-link" aria-label="Direct link to 11-same-page-communication" title="Direct link to 11-same-page-communication">​</a></h4>
<ul>
<li>
<p><strong>Direct Access:</strong> If the components or views are part of the same ZK page, they can be accessed directly via their component IDs or by traversing the component tree. For instance, using <code>getFellow()</code> or <code>getParent()</code> methods to access another component.</p>
</li>
<li>
<p><strong>Event Binding:</strong> Another way is to use ZK’s event-driven model, where one component can send an event that another component is listening for. This can be done using <code>sendEvent()</code>, <code>postEvent()</code>, or by using custom event listeners.</p>
</li>
<li>
<p><strong>Data Binding:</strong> If you are using MVVM, data binding is a powerful way to automatically propagate changes across views without manually handling events.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12-cross-window-communication">1.2 <strong>Cross-Window Communication</strong><a href="#12-cross-window-communication" class="hash-link" aria-label="Direct link to 12-cross-window-communication" title="Direct link to 12-cross-window-communication">​</a></h4>
<ul>
<li>
<p><strong>Execution Queues:</strong> ZK provides an <code>ExecutionQueue</code> mechanism that allows communication across different browser windows or tabs. By pushing messages to a named queue, other windows can subscribe to receive these messages and act accordingly.</p>
</li>
<li>
<p><strong>Server-Push:</strong> ZK supports server-push, which allows the server to send updates to the client asynchronously. This can be useful when changes in one window need to be reflected in another without requiring a manual refresh.</p>
</li>
<li>
<p><strong>Client-Side JavaScript:</strong> Sometimes, using JavaScript to handle communication across windows can be effective, especially for tasks like opening new windows and passing data between them using <code>window.opener</code> or <code>window.postMessage()</code>.</p>
</li>
<li>
<p><strong>Custom Event Handling:</strong> You can define custom events that can be fired across windows or tabs using ZK’s event system. This allows for a high degree of control and customization.</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-impact-of-mvvm-and-mvc-patterns-on-communication">2. <strong>Impact of MVVM and MVC Patterns on Communication</strong><a href="#2-impact-of-mvvm-and-mvc-patterns-on-communication" class="hash-link" aria-label="Direct link to 2-impact-of-mvvm-and-mvc-patterns-on-communication" title="Direct link to 2-impact-of-mvvm-and-mvc-patterns-on-communication">​</a></h3>
<p>The choice between MVVM and MVC patterns in ZK affects how communication across views or windows is managed. While both patterns can be used to build ZK applications, they differ fundamentally in how data and actions are handled.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="21-mvc-pattern">2.1 <strong>MVC Pattern</strong><a href="#21-mvc-pattern" class="hash-link" aria-label="Direct link to 21-mvc-pattern" title="Direct link to 21-mvc-pattern">​</a></h4>
<p>In the MVC pattern:</p>
<ul>
<li>
<p><strong>Controller-Centric Communication:</strong> The controller acts as the central hub for communication between the view and the model. Communication between different views or windows typically involves the controller coordinating these interactions.</p>
</li>
<li>
<p><strong>Manual Data Propagation:</strong> Any updates to the model or the view often require manual handling, such as explicitly setting attributes or invoking methods to update the UI.</p>
</li>
<li>
<p><strong>Event Handling:</strong> Events are captured in the controller and appropriate actions are taken to update the view or model. If communication is needed between multiple controllers (across different windows), the controllers must be aware of each other or use shared services.</p>
</li>
<li>
<p><strong>Complex Interactions:</strong> Cross-window communication can be more complex in MVC because the controller must manage state across multiple views and ensure consistency.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="22-mvvm-pattern">2.2 <strong>MVVM Pattern</strong><a href="#22-mvvm-pattern" class="hash-link" aria-label="Direct link to 22-mvvm-pattern" title="Direct link to 22-mvvm-pattern">​</a></h4>
<p>In the MVVM pattern:</p>
<ul>
<li>
<p><strong>Data Binding:</strong> MVVM leverages ZK’s data binding features, which allows the view to automatically reflect changes in the ViewModel and vice versa. This simplifies communication between views because changes in the ViewModel are propagated automatically.</p>
</li>
<li>
<p><strong>ViewModel-Centric Communication:</strong> In MVVM, the ViewModel often acts as the mediator for interactions. Different ViewModels can communicate by sharing a common service or using event listeners to respond to changes.</p>
</li>
<li>
<p><strong>Less Boilerplate Code:</strong> MVVM reduces the need for explicit handling of UI updates, as most of the communication is managed through data binding and observer patterns. This makes cross-window communication more seamless, especially when dealing with data changes.</p>
</li>
<li>
<p><strong>Event Handling:</strong> Similar to MVC, events can be used to trigger actions, but in MVVM, these are often bound directly to methods in the ViewModel, reducing the need for manual intervention.</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-best-practices">3. <strong>Best Practices</strong><a href="#3-best-practices" class="hash-link" aria-label="Direct link to 3-best-practices" title="Direct link to 3-best-practices">​</a></h3>
<ul>
<li>
<p><strong>Use Data Binding in MVVM:</strong> When following the MVVM pattern, leverage data binding to minimize the need for manual updates across views. This ensures that changes in the data model automatically reflect in all bound views.</p>
</li>
<li>
<p><strong>Minimize Direct Component Access:</strong> Avoid directly manipulating components in other views or windows. Instead, use events or shared ViewModels to manage state and communication.</p>
</li>
<li>
<p><strong>Use Execution Queues for Cross-Window Communication:</strong> For robust cross-window communication, consider using ZK’s <code>ExecutionQueue</code>. It is designed to handle such scenarios and can simplify the communication process.</p>
</li>
<li>
<p><strong>Decouple Logic in MVC:</strong> In MVC, try to decouple the logic as much as possible by using service layers or utility classes that can be accessed by multiple controllers. This reduces dependencies and makes the application easier to maintain.</p>
</li>
<li>
<p><strong>Leverage Server-Push for Real-Time Updates:</strong> If your application requires real-time communication across views or windows, consider using ZK’s server-push technology to keep all views in sync without needing manual refreshes.</p>
</li>
</ul>
<hr>
<p><strong>Conclusion:</strong></p>
<p>Communicating across different views or windows in ZK is a common requirement that can be achieved through various methods, depending on the design pattern employed. While the MVC pattern relies more on the controller for managing communication, the MVVM pattern leverages data binding and ViewModels for a more automated approach. Understanding these patterns and using the right tools and techniques can significantly enhance the interactivity and responsiveness of your ZK applications.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="examples-of-executionqueue-usage-in-zk">Examples of <code>ExecutionQueue</code> Usage in ZK<a href="#examples-of-executionqueue-usage-in-zk" class="hash-link" aria-label="Direct link to examples-of-executionqueue-usage-in-zk" title="Direct link to examples-of-executionqueue-usage-in-zk">​</a></h3>
<p>The <code>ExecutionQueue</code> in ZK is a powerful mechanism that allows communication between different sessions, windows, or tabs. It works by letting you send messages to a named queue, and any listeners that are subscribed to this queue can react to these messages. This is particularly useful for scenarios where you need to synchronize state across multiple browser windows or tabs, or even across different users&#x27; sessions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-basic-example-cross-window-communication"><strong>1. Basic Example: Cross-Window Communication</strong><a href="#1-basic-example-cross-window-communication" class="hash-link" aria-label="Direct link to 1-basic-example-cross-window-communication" title="Direct link to 1-basic-example-cross-window-communication">​</a></h4>
<p>Suppose you have a ZK application where you want to notify all open windows when a specific action occurs (like updating data on the server).</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-sending-a-message-to-the-executionqueue"><strong>Step 1: Sending a Message to the ExecutionQueue</strong><a href="#step-1-sending-a-message-to-the-executionqueue" class="hash-link" aria-label="Direct link to step-1-sending-a-message-to-the-executionqueue" title="Direct link to step-1-sending-a-message-to-the-executionqueue">​</a></h5>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.Executions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.sys.ExecutionCtrl;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.Clients;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UpdateDataViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void updateData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Perform some data update operation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        performDataUpdate();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Send a message to the queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;dataUpdateQueue&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String message = &quot;Data has been updated!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ExecutionCtrl execCtrl = (ExecutionCtrl) Executions.getCurrent();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        execCtrl.getExecutionInfo().getQueue(queueName).publish(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void performDataUpdate() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Your data update logic goes here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-listening-for-messages-in-another-window"><strong>Step 2: Listening for Messages in Another Window</strong><a href="#step-2-listening-for-messages-in-another-window" class="hash-link" aria-label="Direct link to step-2-listening-for-messages-in-another-window" title="Direct link to step-2-listening-for-messages-in-another-window">​</a></h5>
<p>In the other windows or views that need to listen for updates, you would subscribe to the <code>ExecutionQueue</code> like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventListener;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventQueues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.Clients;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DataListenerViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DataListenerViewModel() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;dataUpdateQueue&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(queueName).subscribe(new EventListener&lt;String&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Handle the message received from the queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Clients.showNotification(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                refreshView();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void refreshView() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Logic to refresh the view goes here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-1"><strong>Explanation:</strong><a href="#explanation-1" class="hash-link" aria-label="Direct link to explanation-1" title="Direct link to explanation-1">​</a></h5>
<ul>
<li><strong>Sending Messages:</strong> The <code>updateData()</code> method updates some data and then sends a message to the <code>ExecutionQueue</code> named <code>dataUpdateQueue</code>.</li>
<li><strong>Subscribing to the Queue:</strong> In the constructor of <code>DataListenerViewModel</code>, we subscribe to the <code>ExecutionQueue</code> with the same name. When a message is published to this queue, the listener will receive it and can react accordingly.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-advanced-example-user-specific-communication"><strong>2. Advanced Example: User-Specific Communication</strong><a href="#2-advanced-example-user-specific-communication" class="hash-link" aria-label="Direct link to 2-advanced-example-user-specific-communication" title="Direct link to 2-advanced-example-user-specific-communication">​</a></h4>
<p>Let&#x27;s say you want to send a message only to a specific user&#x27;s session, like notifying them of a private message.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-creating-a-user-specific-queue"><strong>Step 1: Creating a User-Specific Queue</strong><a href="#step-1-creating-a-user-specific-queue" class="hash-link" aria-label="Direct link to step-1-creating-a-user-specific-queue" title="Direct link to step-1-creating-a-user-specific-queue">​</a></h5>
<p>Each user could have a unique queue based on their session ID or username.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.Executions;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.Clients;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class NotificationService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void notifyUser(String username, String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;userQueue_&quot; + username;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(queueName).publish(message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-subscribing-to-the-user-specific-queue"><strong>Step 2: Subscribing to the User-Specific Queue</strong><a href="#step-2-subscribing-to-the-user-specific-queue" class="hash-link" aria-label="Direct link to step-2-subscribing-to-the-user-specific-queue" title="Direct link to step-2-subscribing-to-the-user-specific-queue">​</a></h5>
<p>In the user&#x27;s session or window, you would subscribe to their specific queue.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventListener;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventQueues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.Clients;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UserViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public UserViewModel(String username) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;userQueue_&quot; + username;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(queueName).subscribe(new EventListener&lt;String&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(String message) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Notify the user with a custom message</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Clients.showNotification(&quot;Private Message: &quot; + message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-2"><strong>Explanation:</strong><a href="#explanation-2" class="hash-link" aria-label="Direct link to explanation-2" title="Direct link to explanation-2">​</a></h5>
<ul>
<li><strong>Notify Specific Users:</strong> The <code>NotificationService</code> can send messages to a user-specific queue. This queue can be uniquely identified by the user&#x27;s username.</li>
<li><strong>User Subscription:</strong> The <code>UserViewModel</code> subscribes to their own queue, ensuring that they only receive messages intended for them.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-real-time-notifications-example"><strong>3. Real-Time Notifications Example</strong><a href="#3-real-time-notifications-example" class="hash-link" aria-label="Direct link to 3-real-time-notifications-example" title="Direct link to 3-real-time-notifications-example">​</a></h4>
<p>Imagine a real-time collaborative application where users need to be notified when others make changes to shared data.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-publishing-collaborative-updates"><strong>Step 1: Publishing Collaborative Updates</strong><a href="#step-1-publishing-collaborative-updates" class="hash-link" aria-label="Direct link to step-1-publishing-collaborative-updates" title="Direct link to step-1-publishing-collaborative-updates">​</a></h5>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class CollaborationService {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void publishUpdate(String docId, String updateInfo) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;docUpdateQueue_&quot; + docId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(queueName, EventQueues.APPLICATION, true).publish(updateInfo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-subscribing-to-updates-for-a-specific-document"><strong>Step 2: Subscribing to Updates for a Specific Document</strong><a href="#step-2-subscribing-to-updates-for-a-specific-document" class="hash-link" aria-label="Direct link to step-2-subscribing-to-updates-for-a-specific-document" title="Direct link to step-2-subscribing-to-updates-for-a-specific-document">​</a></h5>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventListener;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventQueues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.Clients;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class DocumentViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public DocumentViewModel(String docId) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String queueName = &quot;docUpdateQueue_&quot; + docId;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        EventQueues.lookup(queueName, EventQueues.APPLICATION, true).subscribe(new EventListener&lt;String&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(String updateInfo) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Handle the update for the document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Clients.showNotification(&quot;Document updated: &quot; + updateInfo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                refreshDocumentView();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private void refreshDocumentView() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Logic to refresh the document view goes here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-3"><strong>Explanation:</strong><a href="#explanation-3" class="hash-link" aria-label="Direct link to explanation-3" title="Direct link to explanation-3">​</a></h5>
<ul>
<li><strong>Document-Specific Queues:</strong> Each document being edited has its own queue (e.g., <code>docUpdateQueue_123</code> for document ID 123).</li>
<li><strong>Publishing Updates:</strong> The <code>CollaborationService</code> sends updates to the queue associated with the document being modified.</li>
<li><strong>Subscribing to Updates:</strong> Each user&#x27;s view of the document subscribes to its specific queue, ensuring they receive real-time updates as other users make changes.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary"><strong>Summary</strong><a href="#summary" class="hash-link" aria-label="Direct link to summary" title="Direct link to summary">​</a></h3>
<ul>
<li><strong>ExecutionQueue</strong> in ZK allows for powerful communication across different views, windows, or even sessions.</li>
<li>It is useful for scenarios requiring synchronization between multiple browser windows, such as updating UI elements, sending notifications, or coordinating state changes.</li>
<li>Depending on the use case, queues can be shared globally, specific to users, or specific to particular documents or resources.</li>
</ul>
<p>By effectively using <code>ExecutionQueue</code>, you can build responsive, collaborative applications that keep users in sync with the latest changes happening across different parts of your ZK application.</p>
<p>In ZK, <code>BindUtils.postGlobalCommand()</code> is specifically designed for use in the MVVM pattern. It allows a ViewModel to post a command that can be received by another ViewModel, even across different views. This mechanism relies on the MVVM data-binding infrastructure, where commands are typically annotated with <code>@GlobalCommand</code> in the receiving ViewModel.</p>
<p>However, if you are working with an MVVM pattern on the sending side and an MVC pattern on the receiving side, <code>BindUtils.postGlobalCommand()</code> won&#x27;t directly work in the MVC context because MVC controllers don&#x27;t use the same annotation-based command mechanism as MVVM.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-make-mvvm-and-mvc-communicate"><strong>How to Make MVVM and MVC Communicate</strong><a href="#how-to-make-mvvm-and-mvc-communicate" class="hash-link" aria-label="Direct link to how-to-make-mvvm-and-mvc-communicate" title="Direct link to how-to-make-mvvm-and-mvc-communicate">​</a></h3>
<p>To communicate between an MVVM-based ViewModel and an MVC-based controller, you need to use a different approach. Here’s how you can achieve communication from MVVM to MVC:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-use-events-instead-of-global-commands"><strong>1. Use Events Instead of Global Commands</strong><a href="#1-use-events-instead-of-global-commands" class="hash-link" aria-label="Direct link to 1-use-events-instead-of-global-commands" title="Direct link to 1-use-events-instead-of-global-commands">​</a></h4>
<p>Since MVC relies on event handling rather than commands, you can use the ZK event system to send events from the ViewModel to a controller.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-posting-a-custom-event-in-mvvm"><strong>Step 1: Posting a Custom Event in MVVM</strong><a href="#step-1-posting-a-custom-event-in-mvvm" class="hash-link" aria-label="Direct link to step-1-posting-a-custom-event-in-mvvm" title="Direct link to step-1-posting-a-custom-event-in-mvvm">​</a></h5>
<p>In your MVVM ViewModel, you can post a custom event to a specific component or a global event to all components using the event system.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.bind.BindUtils;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.Event;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.Events;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.Component;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class FirstViewModel {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void sendData() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        String data = &quot;Hello from FirstViewModel&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Post a global event (if the target component is known)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Events.postEvent(&quot;onReceiveData&quot;, someComponent, data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this code:</p>
<ul>
<li><code>Events.postEvent()</code> is used to send an event named <code>&quot;onReceiveData&quot;</code> to <code>someComponent</code>.</li>
<li>The <code>data</code> string is passed as the event&#x27;s data, which the MVC controller can handle.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-listening-for-the-event-in-mvc"><strong>Step 2: Listening for the Event in MVC</strong><a href="#step-2-listening-for-the-event-in-mvc" class="hash-link" aria-label="Direct link to step-2-listening-for-the-event-in-mvc" title="Direct link to step-2-listening-for-the-event-in-mvc">​</a></h5>
<p>In your MVC controller, you listen for the <code>&quot;onReceiveData&quot;</code> event using the <code>addEventListener</code> method.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.Event;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.event.EventListener;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.zkoss.zk.ui.util.GenericForwardComposer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class SecondController extends GenericForwardComposer&lt;Component&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void doAfterCompose(Component comp) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.doAfterCompose(comp);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Add an event listener for &quot;onReceiveData&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        comp.addEventListener(&quot;onReceiveData&quot;, new EventListener&lt;Event&gt;() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            public void onEvent(Event event) throws Exception {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                String receivedData = (String) event.getData();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // Process the received data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                System.out.println(&quot;Received data: &quot; + receivedData);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this code:</p>
<ul>
<li>The <code>SecondController</code> listens for the <code>&quot;onReceiveData&quot;</code> event.</li>
<li>When the event is fired, the <code>onEvent()</code> method processes the data received from the ViewModel.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary-1"><strong>Summary</strong><a href="#summary-1" class="hash-link" aria-label="Direct link to summary-1" title="Direct link to summary-1">​</a></h3>
<ul>
<li><strong>MVVM to MVC Communication</strong>: <code>BindUtils.postGlobalCommand()</code> won&#x27;t work directly with MVC controllers because they don&#x27;t recognize the command annotations used in MVVM. Instead, use <code>Events.postEvent()</code> to send events.</li>
<li><strong>Receiving in MVC</strong>: In the MVC controller, use <code>addEventListener()</code> to listen for these events and process the data accordingly.</li>
</ul>
<p>By using ZK’s event system, you can effectively enable communication between MVVM and MVC components, allowing for interaction between different design patterns within the same application.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tk_book/ZK/Buttons/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Buttons</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tk_book/ZK/Data Binding/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understanding Data Binding in MVC vs. MVVM with ZK Wire Component</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#communication-via-global-command" class="table-of-contents__link toc-highlight">Communication via Global Command</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example:</a></li><li><a href="#explanation" class="table-of-contents__link toc-highlight">Explanation:</a></li><li><a href="#3-communication-and-data-passing-in-zk-mvvm" class="table-of-contents__link toc-highlight">3. Communication and Data Passing in ZK MVVM</a></li><li><a href="#1-event-posting-in-zk-mvc" class="table-of-contents__link toc-highlight">1. Event Posting in ZK MVC</a></li><li><a href="#2-event-posting-in-zk-mvvm" class="table-of-contents__link toc-highlight">2. Event Posting in ZK MVVM</a></li><li><a href="#eventqueues-vs-global-events-in-zk-framework" class="table-of-contents__link toc-highlight">EventQueues vs. Global Events in ZK Framework</a></li><li><a href="#1-global-events" class="table-of-contents__link toc-highlight">1. Global Events</a></li><li><a href="#2-eventqueues" class="table-of-contents__link toc-highlight">2. EventQueues</a></li><li><a href="#3-key-differences" class="table-of-contents__link toc-highlight">3. Key Differences</a></li><li><a href="#4-summary" class="table-of-contents__link toc-highlight">4. Summary</a></li><li><a href="#communicating-across-different-views-or-windows-in-zk" class="table-of-contents__link toc-highlight">Communicating Across Different Views or Windows in ZK</a></li><li><a href="#1-communication-across-views-or-windows-in-zk" class="table-of-contents__link toc-highlight">1. <strong>Communication Across Views or Windows in ZK</strong></a></li><li><a href="#2-impact-of-mvvm-and-mvc-patterns-on-communication" class="table-of-contents__link toc-highlight">2. <strong>Impact of MVVM and MVC Patterns on Communication</strong></a></li><li><a href="#3-best-practices" class="table-of-contents__link toc-highlight">3. <strong>Best Practices</strong></a></li><li><a href="#examples-of-executionqueue-usage-in-zk" class="table-of-contents__link toc-highlight">Examples of <code>ExecutionQueue</code> Usage in ZK</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight"><strong>Summary</strong></a></li><li><a href="#how-to-make-mvvm-and-mvc-communicate" class="table-of-contents__link toc-highlight"><strong>How to Make MVVM and MVC Communicate</strong></a></li><li><a href="#summary-1" class="table-of-contents__link toc-highlight"><strong>Summary</strong></a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>